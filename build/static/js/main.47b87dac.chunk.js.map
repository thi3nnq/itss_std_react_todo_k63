{"version":3,"sources":["components/TodoItem.js","components/Input.js","components/Filter.js","firebase/firebase.config.js","hooks/fbStorage.js","components/Todo.js","components/Login.js","components/Upload.js","App.js","reportWebVitals.js","index.js"],"names":["TodoItem","item","onCheck","className","type","checked","done","onChange","text","Input","onAdd","React","useState","setText","class","placeholder","value","e","target","onKeyDown","keyCode","Filter","handleClick","key","preventDefault","href","onClick","bind","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","getFirebaseItems","a","collection","get","snapshot","items","docs","map","doc","data","id","console","log","addFirebaseItem","todoRef","add","updateFirebaseItem","update","clearFirebaseItem","delete","then","catch","err","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","storeUserInfo","user","uid","userDoc","exists","set","name","displayName","updateUser","image","uploadImage","ref","storage","child","downloadUrl","put","getDownloadURL","useFbStorage","setItems","useEffect","getItems","_items","addItem","newItem","updateItem","changes","newItems","Todo","clearItems","filter","setFilter","displayItems","handleCheck","length","Login","firebaseAuth","Upload","userImage","onSletctedImage","isModal","setIsModal","active","imageUrl","setImageUrl","handleImage","event","files","ImageViewer","src","aria-label","App","loading","setLoading","setUser","onAuthStateChanged","newUser","logout","signOut","handleImageChanged","downlodUrl","HeaderContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47b87dac.chunk.js","sourcesContent":["function TodoItem({ item, onCheck }) {\r\n  const handleChange = () => {\r\n    onCheck(item);\r\n  };\r\n  return (\r\n    <label className='panel-block'>\r\n      <input type='checkbox' checked={item.done} onChange={handleChange} />\r\n      <span className={item.done ? 'has-text-grey-light' : ''}>\r\n        {item.text}\r\n      </span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default TodoItem;\r\n","import React, { useState } from 'react';\r\n\r\nfunction Input({ onAdd }) {\r\n  const [text, setText] = React.useState('');\r\n\r\n  const handleChange = (e) => setText(e.target.value);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.keyCode === 13) {\r\n      onAdd(text);\r\n      setText('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='panel-block'>\r\n      <input\r\n        class='input'\r\n        type='text'\r\n        placeholder='Todoを入力してください'\r\n        value={text}\r\n        onChange={handleChange}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","function Filter({ value, onChange }) {\r\n  const handleClick = (key, e) => {\r\n    e.preventDefault();\r\n    onChange(key);\r\n  };\r\n\r\n  return (\r\n    <div className='panel-tabs'>\r\n      <a\r\n        href='#'\r\n        onClick={handleClick.bind(null, 'ALL')}\r\n        className={value === 'ALL' ? 'is-active' : ''}\r\n      >\r\n        全て\r\n      </a>\r\n      <a\r\n        href='#'\r\n        onClick={handleClick.bind(null, 'TODO')}\r\n        className={value === 'TODO' ? 'is-active' : ''}\r\n      >\r\n        未完了\r\n      </a>\r\n      <a\r\n        href='#'\r\n        onClick={handleClick.bind(null, 'DONE')}\r\n        className={value === 'DONE' ? 'is-active' : ''}\r\n      >\r\n        完了済み\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n","import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth'; //v9\r\nimport 'firebase/compat/firestore';\r\nimport 'firebase/compat/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA5W4p6CXsiXz_B-MTOm648XlbcHanBdKw\",\r\n  authDomain: \"thienitss.firebaseapp.com\",\r\n  projectId: \"thienitss\",\r\n  storageBucket: \"thienitss.appspot.com\",\r\n  messagingSenderId: \"393590550782\",\r\n  appId: \"1:393590550782:web:41105fb580453effa735af\",\r\n  measurementId: \"G-F6TQFX0GHF\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Export\r\n// export const googleAuthProvider = new GoogleAuthProvider();\r\n// export const facebookAuthProvider = new FacebookAuthProvider();\r\n\r\nconst db = firebase.firestore();\r\nexport const auth = firebase.auth();\r\nexport default firebase;\r\n\r\nexport const getFirebaseItems = async () => {\r\n  try {\r\n    const snapshot = await db.collection('todos').get();\r\n    const items = snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id }));\r\n    return items;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const addFirebaseItem = async (item) => {\r\n  try {\r\n    const todoRef = db.collection('todos');\r\n    await todoRef.add(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const updateFirebaseItem = async (item, id) => {\r\n  try {\r\n    const todoRef = db.collection('todos').doc(id);\r\n    await todoRef.update(item);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const clearFirebaseItem = async (item) => {\r\n  const todoRef = db.collection('todos').doc(item.id);\r\n  await todoRef\r\n    .delete()\r\n    .then(function () {})\r\n    .catch(function (err) {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const uiConfig = {\r\n  signInFlow: 'popup',\r\n  signInSuccessUrl: '/',\r\n  signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\r\n};\r\n\r\nexport const storeUserInfo = async (user) => {\r\n  const { uid } = user;\r\n  const userDoc = await db.collection('users').doc(uid).get();\r\n  if (!userDoc.exists) {\r\n    await db.collection('users').doc(uid).set({ name: user.displayName });\r\n    return {\r\n      name: user.displayName,\r\n      id: uid,\r\n    };\r\n  } else {\r\n    return {\r\n      id: uid,\r\n      ...userDoc.data(),\r\n    };\r\n  }\r\n};\r\n\r\nexport const updateUser = async (user, image) => {\r\n  try {\r\n    const userDoc = await firebase\r\n      .firestore()\r\n      .collection('users')\r\n      .doc(user.id)\r\n      .get();\r\n    if (userDoc.exists) {\r\n      await firebase\r\n        .firestore()\r\n        .collection('users')\r\n        .doc(user.id)\r\n        .update({ ...userDoc.data(), image: image });\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const uploadImage = async (image) => {\r\n  const ref = firebase.storage().ref().child(`/images/${image.name}`);\r\n  let downloadUrl = '';\r\n  try {\r\n    await ref.put(image);\r\n    downloadUrl = await ref.getDownloadURL();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  return downloadUrl;\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\n/* ライブラリ */\r\nimport {\r\n  addFirebaseItem,\r\n  updateFirebaseItem,\r\n  getFirebaseItems,\r\n  clearFirebaseItem,\r\n} from '../firebase/firebase.config';\r\n\r\nfunction useFbStorage() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, [items]);\r\n\r\n  const getItems = async () => {\r\n    const _items = await getFirebaseItems();\r\n    setItems(_items);\r\n  };\r\n\r\n  const addItem = async (item) => {\r\n    const newItem = { text: item.text, done: item.done };\r\n    await addFirebaseItem(newItem);\r\n    setItems([...items, newItem]);\r\n  };\r\n\r\n  const updateItem = async (checked) => {\r\n    const changes = { done: !checked.done };\r\n    await updateFirebaseItem(changes, checked.id);\r\n    const newItems = items.map((item) => {\r\n      if (item.id === checked.id) {\r\n        item = { ...item, changes };\r\n      }\r\n      return item;\r\n    });\r\n    setItems(newItems);\r\n  };\r\n\r\n  const clearItems = () => {\r\n    items.map((item) => {\r\n      clearFirebaseItem(item);\r\n    });\r\n    setItems([]);\r\n  };\r\n\r\n  return [items, addItem, updateItem, clearItems];\r\n}\r\n\r\nexport default useFbStorage;\r\n","import React, { useState } from 'react';\r\n\r\n/* コンポーネント */\r\nimport TodoItem from './TodoItem';\r\nimport Input from './Input';\r\nimport Filter from './Filter';\r\n\r\n/* カスタムフック */\r\n// import useStorage from '../hooks/storage';\r\nimport useFbStorage from '../hooks/fbStorage';\r\n\r\n/* ライブラリ */\r\nimport { getKey } from '../lib/util';\r\n\r\nfunction Todo() {\r\n  // const [items, putItems, clearItems] = useStorage();\r\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\r\n\r\n  const [filter, setFilter] = React.useState('ALL');\r\n\r\n  const displayItems = items.filter((item) => {\r\n    if (filter === 'ALL') return true;\r\n    if (filter === 'TODO') return !item.done;\r\n    if (filter === 'DONE') return item.done;\r\n  });\r\n\r\n  const handleCheck = (checked) => {\r\n    // const newItems = items.map(item => {\r\n    //   if (item.key === checked.key) {\r\n    //     item.done = !item.done;\r\n    //   }\r\n    //   return item;\r\n    // });\r\n    // putItems(newItems);\r\n    updateItem(checked);\r\n  };\r\n\r\n  const handleAdd = (text) => {\r\n    // putItems([...items, { key: getKey(), text, done: false }]);\r\n    addItem({ text, done: false });\r\n  };\r\n\r\n  const handleFilterChange = (value) => setFilter(value);\r\n\r\n  return (\r\n    <article class='panel is-danger'>\r\n      <div className='panel-heading'>\r\n        <span class='icon-text'>\r\n          <span class='icon'>\r\n            <i class='fas fa-calendar-check'></i>\r\n          </span>\r\n          <span> ITSS Todoアプリ</span>\r\n        </span>\r\n      </div>\r\n      <Input onAdd={handleAdd} />\r\n      <Filter onChange={handleFilterChange} value={filter} />\r\n      {displayItems.map((item) => (\r\n        <TodoItem key={item.id} item={item} onCheck={handleCheck} />\r\n      ))}\r\n      <div className='panel-block'>{displayItems.length} items</div>\r\n      <div className='panel-block'>\r\n        <button className='button is-light is-fullwidth' onClick={clearItems}>\r\n          全てのToDoを削除\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Todo;\r\n","import React from 'react';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport { auth, uiConfig } from '../firebase/firebase.config';\r\n\r\nconst Login = () => {\r\n  return (\r\n    <div className='column panel-block'>\r\n      <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\n\r\n/* ライブラリ */\r\nimport { uploadImage } from '../firebase/firebase.config';\r\n\r\nfunction Upload({ userImage, onSletctedImage }) {\r\n  const [isModal, setIsModal] = useState(false);\r\n  const active = isModal ? 'is-active' : '';\r\n  const [imageUrl, setImageUrl] = useState(userImage);\r\n\r\n  const handleImage = async (event) => {\r\n    const image = event.target.files[0];\r\n    const imageUrl = await uploadImage(image);\r\n    onSletctedImage(imageUrl);\r\n    setImageUrl(imageUrl);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setIsModal(!isModal);\r\n  };\r\n\r\n  const ImageViewer = () => {\r\n    if (!imageUrl) {\r\n      return <i class='fas fa-user'></i>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <img src={imageUrl} />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='App'>\r\n      <div className={`modal ${active}`}>\r\n        <div class='modal-background'></div>\r\n        <div class='modal-content'>\r\n          <div class='file is-boxed'>\r\n            <label class='file-label'>\r\n              <input\r\n                class='file-input'\r\n                type='file'\r\n                name='resume'\r\n                onChange={handleImage}\r\n              />\r\n              <span class='file-cta'>\r\n                <span class='file-icon'>\r\n                  <i class='fas fa-upload'></i>\r\n                </span>\r\n                <span class='file-label'>画像を選択してください</span>\r\n              </span>\r\n            </label>\r\n          </div>\r\n          <button\r\n            class='modal-close is-large'\r\n            aria-label='close'\r\n            onClick={handleClick}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n      <button onClick={handleClick} class='button is-primary is-inverted'>\r\n        <span class='icon'>\r\n          <ImageViewer />\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Upload;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\n/* スタイルシート */\r\nimport './styles/main.css';\r\n\r\n/* コンポーネント */\r\nimport Todo from './components/Todo';\r\nimport Login from './components/Login';\r\nimport { auth, storeUserInfo, updateUser } from './firebase/firebase.config';\r\n\r\nimport Upload from './components/Upload';\r\n\r\nfunction App() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState([]);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(async (user) => {\r\n      setLoading(false);\r\n      let newUser = null;\r\n      if (user) {\r\n        newUser = await storeUserInfo(user);\r\n      }\r\n      setUser(newUser);\r\n    });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    auth.signOut();\r\n  };\r\n\r\n  const handleImageChanged = async (downlodUrl) => {\r\n    await updateUser(user, downlodUrl);\r\n  };\r\n\r\n  const HeaderContent = () => {\r\n    if (user) {\r\n      return (\r\n        <div class='navbar-end'>\r\n          <div class='navbar-item'>\r\n            <Upload\r\n              userImage={user.image}\r\n              onSletctedImage={handleImageChanged}\r\n            />\r\n            {user.name}\r\n          </div>\r\n          <div class='navbar-item'>\r\n            <button class='button is-danger is-light is-small' onClick={logout}>\r\n              {' '}\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <Login />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='container is-fluid'>\r\n      <header class='navbar'>\r\n        {loading ? <p>LOADING.....</p> : <HeaderContent />}\r\n      </header>\r\n      <div>{user && <Todo />}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}