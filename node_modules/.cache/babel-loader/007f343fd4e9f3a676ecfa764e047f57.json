{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';/* コンポーネント */import TodoItem from'./TodoItem';import Input from'./Input';import Filter from'./Filter';/* カスタムフック */ // import useStorage from '../hooks/storage';\nimport useFbStorage from'../hooks/fbStorage';/* ライブラリ */import{getKey}from'../lib/util';function Todo(){// const [items, putItems, clearItems] = useStorage();\nvar _useFbStorage=useFbStorage(),_useFbStorage2=_slicedToArray(_useFbStorage,4),items=_useFbStorage2[0],addItem=_useFbStorage2[1],updateItem=_useFbStorage2[2],clearItems=_useFbStorage2[3];var _React$useState=React.useState('ALL'),_React$useState2=_slicedToArray(_React$useState,2),filter=_React$useState2[0],setFilter=_React$useState2[1];var displayItems=items.filter(function(item){if(filter==='ALL')return true;if(filter==='TODO')return!item.done;if(filter==='DONE')return item.done;});var handleCheck=function handleCheck(checked){// const newItems = items.map(item => {\n//   if (item.key === checked.key) {\n//     item.done = !item.done;\n//   }\n//   return item;\n// });\n// putItems(newItems);\nupdateItem(checked);};var handleAdd=function handleAdd(text){// putItems([...items, { key: getKey(), text, done: false }]);\naddItem({text:text,done:false});};var handleFilterChange=function handleFilterChange(value){return setFilter(value);};return/*#__PURE__*/_jsxs(\"article\",{class:\"panel is-danger\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-heading\",children:/*#__PURE__*/_jsxs(\"span\",{class:\"icon-text\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"icon\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-calendar-check\"})}),/*#__PURE__*/_jsx(\"span\",{children:\" ITSS Todo\\u30A2\\u30D7\\u30EA\"})]})}),/*#__PURE__*/_jsx(Input,{onAdd:handleAdd}),/*#__PURE__*/_jsx(Filter,{onChange:handleFilterChange,value:filter}),displayItems.map(function(item){return/*#__PURE__*/_jsx(TodoItem,{item:item,onCheck:handleCheck},item.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-block\",children:[displayItems.length,\" items\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-block\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-light is-fullwidth\",onClick:clearItems,children:\"\\u5168\\u3066\\u306EToDo\\u3092\\u524A\\u9664\"})})]});}export default Todo;","map":{"version":3,"sources":["C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/src/components/Todo.js"],"names":["React","useState","TodoItem","Input","Filter","useFbStorage","getKey","Todo","items","addItem","updateItem","clearItems","filter","setFilter","displayItems","item","done","handleCheck","checked","handleAdd","text","handleFilterChange","value","map","id","length"],"mappings":"sQAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,aACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,a,CACA;AACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CAEA,WACA,OAASC,MAAT,KAAuB,aAAvB,CAEA,QAASC,CAAAA,IAAT,EAAgB,CACd;AADc,kBAEmCF,YAAY,EAF/C,gDAEPG,KAFO,mBAEAC,OAFA,mBAESC,UAFT,mBAEqBC,UAFrB,uCAIcX,KAAK,CAACC,QAAN,CAAe,KAAf,CAJd,oDAIPW,MAJO,qBAICC,SAJD,qBAMd,GAAMC,CAAAA,YAAY,CAAGN,KAAK,CAACI,MAAN,CAAa,SAACG,IAAD,CAAU,CAC1C,GAAIH,MAAM,GAAK,KAAf,CAAsB,MAAO,KAAP,CACtB,GAAIA,MAAM,GAAK,MAAf,CAAuB,MAAO,CAACG,IAAI,CAACC,IAAb,CACvB,GAAIJ,MAAM,GAAK,MAAf,CAAuB,MAAOG,CAAAA,IAAI,CAACC,IAAZ,CACxB,CAJoB,CAArB,CAMA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,OAAD,CAAa,CAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACAR,UAAU,CAACQ,OAAD,CAAV,CACD,CATD,CAWA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,CAAU,CAC1B;AACAX,OAAO,CAAC,CAAEW,IAAI,CAAJA,IAAF,CAAQJ,IAAI,CAAE,KAAd,CAAD,CAAP,CACD,CAHD,CAKA,GAAMK,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,QAAWT,CAAAA,SAAS,CAACS,KAAD,CAApB,EAA3B,CAEA,mBACE,iBAAS,KAAK,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,eAAf,uBACE,cAAM,KAAK,CAAC,WAAZ,wBACE,aAAM,KAAK,CAAC,MAAZ,uBACE,UAAG,KAAK,CAAC,uBAAT,EADF,EADF,cAIE,sDAJF,GADF,EADF,cASE,KAAC,KAAD,EAAO,KAAK,CAAEH,SAAd,EATF,cAUE,KAAC,MAAD,EAAQ,QAAQ,CAAEE,kBAAlB,CAAsC,KAAK,CAAET,MAA7C,EAVF,CAWGE,YAAY,CAACS,GAAb,CAAiB,SAACR,IAAD,qBAChB,KAAC,QAAD,EAAwB,IAAI,CAAEA,IAA9B,CAAoC,OAAO,CAAEE,WAA7C,EAAeF,IAAI,CAACS,EAApB,CADgB,EAAjB,CAXH,cAcE,aAAK,SAAS,CAAC,aAAf,WAA8BV,YAAY,CAACW,MAA3C,YAdF,cAeE,YAAK,SAAS,CAAC,aAAf,uBACE,eAAQ,SAAS,CAAC,8BAAlB,CAAiD,OAAO,CAAEd,UAA1D,sDADF,EAfF,GADF,CAuBD,CAED,cAAeJ,CAAAA,IAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\n/* コンポーネント */\r\nimport TodoItem from './TodoItem';\r\nimport Input from './Input';\r\nimport Filter from './Filter';\r\n\r\n/* カスタムフック */\r\n// import useStorage from '../hooks/storage';\r\nimport useFbStorage from '../hooks/fbStorage';\r\n\r\n/* ライブラリ */\r\nimport { getKey } from '../lib/util';\r\n\r\nfunction Todo() {\r\n  // const [items, putItems, clearItems] = useStorage();\r\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\r\n\r\n  const [filter, setFilter] = React.useState('ALL');\r\n\r\n  const displayItems = items.filter((item) => {\r\n    if (filter === 'ALL') return true;\r\n    if (filter === 'TODO') return !item.done;\r\n    if (filter === 'DONE') return item.done;\r\n  });\r\n\r\n  const handleCheck = (checked) => {\r\n    // const newItems = items.map(item => {\r\n    //   if (item.key === checked.key) {\r\n    //     item.done = !item.done;\r\n    //   }\r\n    //   return item;\r\n    // });\r\n    // putItems(newItems);\r\n    updateItem(checked);\r\n  };\r\n\r\n  const handleAdd = (text) => {\r\n    // putItems([...items, { key: getKey(), text, done: false }]);\r\n    addItem({ text, done: false });\r\n  };\r\n\r\n  const handleFilterChange = (value) => setFilter(value);\r\n\r\n  return (\r\n    <article class='panel is-danger'>\r\n      <div className='panel-heading'>\r\n        <span class='icon-text'>\r\n          <span class='icon'>\r\n            <i class='fas fa-calendar-check'></i>\r\n          </span>\r\n          <span> ITSS Todoアプリ</span>\r\n        </span>\r\n      </div>\r\n      <Input onAdd={handleAdd} />\r\n      <Filter onChange={handleFilterChange} value={filter} />\r\n      {displayItems.map((item) => (\r\n        <TodoItem key={item.id} item={item} onCheck={handleCheck} />\r\n      ))}\r\n      <div className='panel-block'>{displayItems.length} items</div>\r\n      <div className='panel-block'>\r\n        <button className='button is-light is-fullwidth' onClick={clearItems}>\r\n          全てのToDoを削除\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Todo;\r\n"]},"metadata":{},"sourceType":"module"}