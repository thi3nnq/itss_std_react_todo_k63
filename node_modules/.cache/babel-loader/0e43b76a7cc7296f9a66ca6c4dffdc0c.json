{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\virus\\\\OneDrive\\\\Desktop\\\\itss_std_react_todo_k63\\\\src\\\\components\\\\Todo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\n/* コンポーネント */\n\nimport TodoItem from './TodoItem';\nimport Input from './Input';\nimport Filter from './Filter';\n/* カスタムフック */\n// import useStorage from '../hooks/storage';\n\nimport useFbStorage from '../hooks/fbStorage';\n/* ライブラリ */\n\nimport { getKey } from '../lib/util';\n\nfunction Todo() {\n  _s();\n\n  // const [items, putItems, clearItems] = useStorage();\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\n  const [filter, setFilter] = React.useState('ALL');\n  const displayItems = items.filter(item => {\n    if (filter === 'ALL') return true;\n    if (filter === 'TODO') return !item.done;\n    if (filter === 'DONE') return item.done;\n  });\n\n  const handleCheck = checked => {\n    // const newItems = items.map(item => {\n    //   if (item.key === checked.key) {\n    //     item.done = !item.done;\n    //   }\n    //   return item;\n    // });\n    // putItems(newItems);\n    updateItem(checked);\n  };\n\n  const handleAdd = text => {\n    // putItems([...items, { key: getKey(), text, done: false }]);\n    addItem({\n      text,\n      done: false\n    });\n  };\n\n  const handleFilterChange = value => setFilter(value);\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    class: \"panel is-danger\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        class: \"icon-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"icon\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-calendar-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" ITSS Todo\\u30A2\\u30D7\\u30EA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      onAdd: handleAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      onChange: handleFilterChange,\n      value: filter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), displayItems.map(item => /*#__PURE__*/_jsxDEV(TodoItem, {\n      item: item,\n      onCheck: handleCheck\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-block\",\n      children: [displayItems.length, \" items\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-block\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button is-light is-fullwidth\",\n        onClick: clearItems,\n        children: \"\\u5168\\u3066\\u306EToDo\\u3092\\u524A\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Todo, \"xZyRGqP9OxtfDZEytg4AMBlzZ/8=\", false, function () {\n  return [useFbStorage];\n});\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/src/components/Todo.js"],"names":["React","useState","TodoItem","Input","Filter","useFbStorage","getKey","Todo","items","addItem","updateItem","clearItems","filter","setFilter","displayItems","item","done","handleCheck","checked","handleAdd","text","handleFilterChange","value","map","id","length"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA;;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA;AACA;;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AAEA;;AACA,SAASC,MAAT,QAAuB,aAAvB;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACd;AACA,QAAM,CAACC,KAAD,EAAQC,OAAR,EAAiBC,UAAjB,EAA6BC,UAA7B,IAA2CN,YAAY,EAA7D;AAEA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBb,KAAK,CAACC,QAAN,CAAe,KAAf,CAA5B;AAEA,QAAMa,YAAY,GAAGN,KAAK,CAACI,MAAN,CAAcG,IAAD,IAAU;AAC1C,QAAIH,MAAM,KAAK,KAAf,EAAsB,OAAO,IAAP;AACtB,QAAIA,MAAM,KAAK,MAAf,EAAuB,OAAO,CAACG,IAAI,CAACC,IAAb;AACvB,QAAIJ,MAAM,KAAK,MAAf,EAAuB,OAAOG,IAAI,CAACC,IAAZ;AACxB,GAJoB,CAArB;;AAMA,QAAMC,WAAW,GAAIC,OAAD,IAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACAR,IAAAA,UAAU,CAACQ,OAAD,CAAV;AACD,GATD;;AAWA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAC1B;AACAX,IAAAA,OAAO,CAAC;AAAEW,MAAAA,IAAF;AAAQJ,MAAAA,IAAI,EAAE;AAAd,KAAD,CAAP;AACD,GAHD;;AAKA,QAAMK,kBAAkB,GAAIC,KAAD,IAAWT,SAAS,CAACS,KAAD,CAA/C;;AAEA,sBACE;AAAS,IAAA,KAAK,EAAC,iBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACE;AAAM,QAAA,KAAK,EAAC,WAAZ;AAAA,gCACE;AAAM,UAAA,KAAK,EAAC,MAAZ;AAAA,iCACE;AAAG,YAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eASE,QAAC,KAAD;AAAO,MAAA,KAAK,EAAEH;AAAd;AAAA;AAAA;AAAA;AAAA,YATF,eAUE,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEE,kBAAlB;AAAsC,MAAA,KAAK,EAAET;AAA7C;AAAA;AAAA;AAAA;AAAA,YAVF,EAWGE,YAAY,CAACS,GAAb,CAAkBR,IAAD,iBAChB,QAAC,QAAD;AAAwB,MAAA,IAAI,EAAEA,IAA9B;AAAoC,MAAA,OAAO,EAAEE;AAA7C,OAAeF,IAAI,CAACS,EAApB;AAAA;AAAA;AAAA;AAAA,YADD,CAXH,eAcE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,iBAA8BV,YAAY,CAACW,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,YAdF,eAeE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACE;AAAQ,QAAA,SAAS,EAAC,8BAAlB;AAAiD,QAAA,OAAO,EAAEd,UAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuBD;;GArDQJ,I;UAE0CF,Y;;;KAF1CE,I;AAuDT,eAAeA,IAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\n/* コンポーネント */\r\nimport TodoItem from './TodoItem';\r\nimport Input from './Input';\r\nimport Filter from './Filter';\r\n\r\n/* カスタムフック */\r\n// import useStorage from '../hooks/storage';\r\nimport useFbStorage from '../hooks/fbStorage';\r\n\r\n/* ライブラリ */\r\nimport { getKey } from '../lib/util';\r\n\r\nfunction Todo() {\r\n  // const [items, putItems, clearItems] = useStorage();\r\n  const [items, addItem, updateItem, clearItems] = useFbStorage();\r\n\r\n  const [filter, setFilter] = React.useState('ALL');\r\n\r\n  const displayItems = items.filter((item) => {\r\n    if (filter === 'ALL') return true;\r\n    if (filter === 'TODO') return !item.done;\r\n    if (filter === 'DONE') return item.done;\r\n  });\r\n\r\n  const handleCheck = (checked) => {\r\n    // const newItems = items.map(item => {\r\n    //   if (item.key === checked.key) {\r\n    //     item.done = !item.done;\r\n    //   }\r\n    //   return item;\r\n    // });\r\n    // putItems(newItems);\r\n    updateItem(checked);\r\n  };\r\n\r\n  const handleAdd = (text) => {\r\n    // putItems([...items, { key: getKey(), text, done: false }]);\r\n    addItem({ text, done: false });\r\n  };\r\n\r\n  const handleFilterChange = (value) => setFilter(value);\r\n\r\n  return (\r\n    <article class='panel is-danger'>\r\n      <div className='panel-heading'>\r\n        <span class='icon-text'>\r\n          <span class='icon'>\r\n            <i class='fas fa-calendar-check'></i>\r\n          </span>\r\n          <span> ITSS Todoアプリ</span>\r\n        </span>\r\n      </div>\r\n      <Input onAdd={handleAdd} />\r\n      <Filter onChange={handleFilterChange} value={filter} />\r\n      {displayItems.map((item) => (\r\n        <TodoItem key={item.id} item={item} onCheck={handleCheck} />\r\n      ))}\r\n      <div className='panel-block'>{displayItems.length} items</div>\r\n      <div className='panel-block'>\r\n        <button className='button is-light is-fullwidth' onClick={clearItems}>\r\n          全てのToDoを削除\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Todo;\r\n"]},"metadata":{},"sourceType":"module"}