{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';/* ライブラリ */import{uploadImage}from'../firebase/firebase.config';function Upload(_ref){var userImage=_ref.userImage,onSletctedImage=_ref.onSletctedImage;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModal=_useState2[0],setIsModal=_useState2[1];var active=isModal?'is-active':'';var _useState3=useState(userImage),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var handleImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var image,imageUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:image=event.target.files[0];_context.next=3;return uploadImage(image);case 3:imageUrl=_context.sent;onSletctedImage(imageUrl);setImageUrl(imageUrl);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleImage(_x){return _ref2.apply(this,arguments);};}();var handleClick=function handleClick(){setIsModal(!isModal);};var ImageViewer=function ImageViewer(){if(!imageUrl){return/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal \".concat(active),children:[/*#__PURE__*/_jsx(\"div\",{class:\"modal-background\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"file is-boxed\",children:/*#__PURE__*/_jsxs(\"label\",{class:\"file-label\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"file-input\",type:\"file\",name:\"resume\",onChange:handleImage}),/*#__PURE__*/_jsxs(\"span\",{class:\"file-cta\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"file-icon\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-upload\"})}),/*#__PURE__*/_jsx(\"span\",{class:\"file-label\",children:\"\\u753B\\u50CF\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{class:\"modal-close is-large\",\"aria-label\":\"close\",onClick:handleClick})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,class:\"button is-primary is-inverted\",children:/*#__PURE__*/_jsx(\"span\",{class:\"icon\",children:/*#__PURE__*/_jsx(ImageViewer,{})})})]});}export default Upload;","map":{"version":3,"sources":["C:/Users/virus/OneDrive/Desktop/itss_std_react_todo_k63/src/components/Upload.js"],"names":["React","useState","uploadImage","Upload","userImage","onSletctedImage","isModal","setIsModal","active","imageUrl","setImageUrl","handleImage","event","image","target","files","handleClick","ImageViewer"],"mappings":"+lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,WACA,OAASC,WAAT,KAA4B,6BAA5B,CAEA,QAASC,CAAAA,MAAT,MAAgD,IAA9BC,CAAAA,SAA8B,MAA9BA,SAA8B,CAAnBC,eAAmB,MAAnBA,eAAmB,eAChBJ,QAAQ,CAAC,KAAD,CADQ,wCACvCK,OADuC,eAC9BC,UAD8B,eAE9C,GAAMC,CAAAA,MAAM,CAAGF,OAAO,CAAG,WAAH,CAAiB,EAAvC,CAF8C,eAGdL,QAAQ,CAACG,SAAD,CAHM,yCAGvCK,QAHuC,eAG7BC,WAH6B,eAK9C,GAAMC,CAAAA,WAAW,2FAAG,iBAAOC,KAAP,qIACZC,KADY,CACJD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CADI,uBAEKb,CAAAA,WAAW,CAACW,KAAD,CAFhB,QAEZJ,QAFY,eAGlBJ,eAAe,CAACI,QAAD,CAAf,CACAC,WAAW,CAACD,QAAD,CAAX,CAJkB,sDAAH,kBAAXE,CAAAA,WAAW,6CAAjB,CAOA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBT,UAAU,CAAC,CAACD,OAAF,CAAV,CACD,CAFD,CAIA,GAAMW,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACR,QAAL,CAAe,CACb,mBAAO,UAAG,KAAK,CAAC,aAAT,EAAP,CACD,CAFD,IAEO,CACL,mBACE,kCACE,YAAK,GAAG,CAAEA,QAAV,EADF,EADF,CAKD,CACF,CAVD,CAYA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,iBAAWD,MAAX,CAAd,wBACE,YAAK,KAAK,CAAC,kBAAX,EADF,cAEE,aAAK,KAAK,CAAC,eAAX,wBACE,YAAK,KAAK,CAAC,eAAX,uBACE,eAAO,KAAK,CAAC,YAAb,wBACE,cACE,KAAK,CAAC,YADR,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,QAHP,CAIE,QAAQ,CAAEG,WAJZ,EADF,cAOE,cAAM,KAAK,CAAC,UAAZ,wBACE,aAAM,KAAK,CAAC,WAAZ,uBACE,UAAG,KAAK,CAAC,eAAT,EADF,EADF,cAIE,aAAM,KAAK,CAAC,YAAZ,gFAJF,GAPF,GADF,EADF,cAiBE,eACE,KAAK,CAAC,sBADR,CAEE,aAAW,OAFb,CAGE,OAAO,CAAEK,WAHX,EAjBF,GAFF,GADF,cA2BE,eAAQ,OAAO,CAAEA,WAAjB,CAA8B,KAAK,CAAC,+BAApC,uBACE,aAAM,KAAK,CAAC,MAAZ,uBACE,KAAC,WAAD,IADF,EADF,EA3BF,GADF,CAmCD,CAED,cAAeb,CAAAA,MAAf","sourcesContent":["import React, { useState } from 'react';\r\n\r\n/* ライブラリ */\r\nimport { uploadImage } from '../firebase/firebase.config';\r\n\r\nfunction Upload({ userImage, onSletctedImage }) {\r\n  const [isModal, setIsModal] = useState(false);\r\n  const active = isModal ? 'is-active' : '';\r\n  const [imageUrl, setImageUrl] = useState(userImage);\r\n\r\n  const handleImage = async (event) => {\r\n    const image = event.target.files[0];\r\n    const imageUrl = await uploadImage(image);\r\n    onSletctedImage(imageUrl);\r\n    setImageUrl(imageUrl);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setIsModal(!isModal);\r\n  };\r\n\r\n  const ImageViewer = () => {\r\n    if (!imageUrl) {\r\n      return <i class='fas fa-user'></i>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <img src={imageUrl} />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='App'>\r\n      <div className={`modal ${active}`}>\r\n        <div class='modal-background'></div>\r\n        <div class='modal-content'>\r\n          <div class='file is-boxed'>\r\n            <label class='file-label'>\r\n              <input\r\n                class='file-input'\r\n                type='file'\r\n                name='resume'\r\n                onChange={handleImage}\r\n              />\r\n              <span class='file-cta'>\r\n                <span class='file-icon'>\r\n                  <i class='fas fa-upload'></i>\r\n                </span>\r\n                <span class='file-label'>画像を選択してください</span>\r\n              </span>\r\n            </label>\r\n          </div>\r\n          <button\r\n            class='modal-close is-large'\r\n            aria-label='close'\r\n            onClick={handleClick}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n      <button onClick={handleClick} class='button is-primary is-inverted'>\r\n        <span class='icon'>\r\n          <ImageViewer />\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Upload;\r\n"]},"metadata":{},"sourceType":"module"}